<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="JS Fit App">
    <title>JS Fit App - Criador de Planos de Treino</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzc5NDVmZiIvPgo8cGF0aCBkPSJtMTYgOGMtNC40MTggMC04IDMuNTgyLTggOHY4YzAgNC40MTggMy41ODIgOCA4IDhzOC0zLjU4MiA4LTh2LThjMC00LjQxOC0zLjU4Mi04LTgtOHoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/personal.css">

    <style>
        /* Estilos para o filtro de grupos */
        #exerciseGroupFilter {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            border: 2px solid #667eea;
            transition: all 0.3s ease;
        }
        
        #exerciseGroupFilter:focus {
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
            border-color: #667eea;
        }
        
        #exerciseGroupFilter option {
            background: white;
            color: #333;
            font-weight: normal;
        }
        
        /* Indicador de status - VERS√ÉO UNIFICADA */
        .form-hint {
            font-size: 12px;
            color: var(--text-secondary, #666);
            margin-top: 4px;
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 8px;
            background: rgba(0,0,0,0.05);
            border-radius: 4px;
            transition: all 0.3s ease;
        }
        
        .form-hint.loading {
            color: #ff9800;
            background: rgba(255, 152, 0, 0.1);
        }
        
        .form-hint.success {
            color: #4caf50;
            background: rgba(76, 175, 80, 0.1);
        }
        
        .form-hint.error {
            color: #f44336;
            background: rgba(244, 67, 54, 0.1);
        }
        
        /* Estilos da marca do app */
        .app-branding {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            margin: var(--space-1);
            border-radius: 16px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .app-branding::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(180deg); }
        }
        
        .app-title {
            font-size: 24px;
            font-weight: 700;
            margin: 0 0 8px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
            position: relative;
            z-index: 1;
        }
        
        .app-subtitle {
            font-size: 16px;
            margin: 0 0 16px 0;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .developer-info {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 12px;
            padding: 12px 16px;
            border: 1px solid rgba(255,255,255,0.2);
            position: relative;
            z-index: 1;
        }
        
        .developer-name {
            font-size: 14px;
            font-weight: 600;
            margin: 0 0 4px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .developer-contact {
            font-size: 13px;
            margin: 0;
            opacity: 0.9;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }
        
        .developer-icon {
            width: 16px;
            height: 16px;
            opacity: 0.8;
        }
        
        .phone-icon {
            width: 14px;
            height: 14px;
            opacity: 0.8;
        }
        </style>
        
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üèãÔ∏è JS Fit App</h1>
            <p>Criador de Planos de Treino Personalizados</p>
            <div class="developer-info">
                <div class="developer-name">
                    <svg class="developer-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Desenvolvido por Javan Santana
                </div>
                <div class="developer-contact">
                    <svg class="phone-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    (15) 99143-7433
                </div>
            </div>

            <div class="main-actions">
                <button class="btn btn-primary" onclick="app.showPlanCreator()">
                    ‚ûï Novo Plano
                </button>
                <button class="btn btn-secondary" onclick="app.showPlanList()">
                    üìã Meus Planos
                </button>
                <button class="btn btn-ai" onclick="app.showAIPlanCreator()">
                    ü§ñ Criar com IA
                </button>
                <label class="btn btn-outline" for="importFile">
                    üìÇ Importar Plano
                </label>
            </div>
        </header>

        <!-- AI Plan Creator -->
        <div id="aiPlanCreator" class="content-card" style="display: none;">
            <div class="ai-form-section">
                <h3>ü§ñ Criador de Plano com IA</h3>
                <p>Preencha as informa√ß√µes b√°sicas e deixe a IA criar um plano personalizado para voc√™!</p>
            </div>

            <div class="form-section">
                <h2>üë§ Dados do Aluno</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Aluno</label>
                        <input type="text" id="aiStudentName" class="form-input" placeholder="Digite o nome completo">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Nascimento</label>
                        <input type="date" id="aiStudentBirthDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF (opcional)</label>
                        <input type="text" id="aiStudentCpf" class="form-input" placeholder="000.000.000-00" maxlength="14">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Altura</label>
                        <input type="text" id="aiStudentHeight" class="form-input" placeholder="1,75m">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Peso</label>
                        <input type="text" id="aiStudentWeight" class="form-input" placeholder="75kg">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>üéØ Configura√ß√µes do Plano</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Objetivo Principal</label>
                        <select id="aiPlanObjective" class="form-select">
                            <option value="Hipertrofia e ganho de massa muscular">Hipertrofia e ganho de massa muscular</option>
                            <option value="Perda de peso e defini√ß√£o">Perda de peso e defini√ß√£o</option>
                            <option value="Condicionamento geral">Condicionamento geral</option>
                            <option value="For√ßa e pot√™ncia">For√ßa e pot√™ncia</option>
                            <option value="Resist√™ncia muscular">Resist√™ncia muscular</option>
                            <option value="Reabilita√ß√£o">Reabilita√ß√£o</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">N√≠vel de Experi√™ncia</label>
                        <select id="aiExperienceLevel" class="form-select">
                            <option value="iniciante">Iniciante (0-6 meses)</option>
                            <option value="intermediario">Intermedi√°rio (6 meses - 2 anos)</option>
                            <option value="avancado">Avan√ßado (2+ anos)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dias Dispon√≠veis por Semana</label>
                        <select id="aiAvailableDays" class="form-select">
                            <option value="2">2 dias</option>
                            <option value="3" selected>3 dias</option>
                            <option value="4">4 dias</option>
                            <option value="5">5 dias</option>
                            <option value="6">6 dias</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tempo por Sess√£o (minutos)</label>
                        <select id="aiSessionTime" class="form-select">
                            <option value="45">45 minutos</option>
                            <option value="60" selected>60 minutos</option>
                            <option value="75">75 minutos</option>
                            <option value="90">90 minutos</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>üèãÔ∏è Prefer√™ncias de Treino</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Equipamentos Dispon√≠veis</label>
                        <select id="aiEquipment" class="form-select">
                            <option value="academia_completa">Academia Completa</option>
                            <option value="home_gym">Home Gym (Halteres + Barra)</option>
                            <option value="peso_corporal">Apenas Peso Corporal</option>
                            <option value="funcional">Equipamentos Funcionais</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Foco Muscular Preferido</label>
                        <select id="aiMusclePreference" class="form-select">
                            <option value="equilibrado">Desenvolvimento Equilibrado</option>
                            <option value="superior">Foco Membros Superiores</option>
                            <option value="inferior">Foco Membros Inferiores</option>
                            <option value="core">Foco Core e Funcional</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Limita√ß√µes ou Les√µes</label>
                    <textarea id="aiLimitations" class="form-textarea" placeholder="Descreva qualquer limita√ß√£o f√≠sica, les√£o pr√©via ou exerc√≠cio que deve ser evitado..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Observa√ß√µes Especiais</label>
                    <textarea id="aiSpecialNotes" class="form-textarea" placeholder="Exerc√≠cios preferidos, hor√°rios de treino, metas espec√≠ficas, etc..."></textarea>
                </div>
            </div>

            <div class="generating-indicator" id="generatingIndicator">
                <div class="spinner"></div>
                <h3>ü§ñ IA Criando Seu Plano...</h3>
                <p>Analisando suas informa√ß√µes e gerando o plano personalizado. Isso pode levar alguns segundos.</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-ai" onclick="app.generateAIPlan()">
                    ü§ñ Gerar Plano com IA
                </button>
                <button class="btn btn-outline" onclick="app.showPlanList()">
                    üìã Ver Meus Planos
                </button>
            </div>
        </div>

        <!-- Manual Plan Creator -->
        <div id="planCreator" class="content-card" style="display: none;">
            <input type="hidden" id="currentPlanId" value="">
            <div class="form-section">
                <h2>üë§ Dados do Aluno</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Aluno</label>
                        <input type="text" id="studentName" class="form-input" placeholder="Digite o nome completo">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Nascimento</label>
                        <input type="date" id="studentBirthDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF (opcional)</label>
                        <input type="text" id="studentCpf" class="form-input" placeholder="000.000.000-00" maxlength="14">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Altura</label>
                        <input type="text" id="studentHeight" class="form-input" placeholder="1,75m">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Peso</label>
                        <input type="text" id="studentWeight" class="form-input" placeholder="75kg">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>üéØ Configura√ß√µes do Plano</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Plano</label>
                        <input type="text" id="planName" class="form-input" placeholder="Plano Hipertrofia 2024">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Objetivo</label>
                        <select id="planObjective" class="form-select">
                            <option value="Hipertrofia e ganho de massa muscular">Hipertrofia e ganho de massa muscular</option>
                            <option value="Condicionamento geral">Condicionamento geral</option>
                            <option value="Perda de peso">Perda de peso</option>
                            <option value="Defini√ß√£o muscular">Defini√ß√£o muscular</option>
                            <option value="For√ßa">Ganho de for√ßa</option>
                            <option value="Resist√™ncia">Resist√™ncia</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de In√≠cio</label>
                        <input type="date" id="planStartDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Fim</label>
                        <input type="date" id="planEndDate" class="form-input">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Observa√ß√µes Gerais</label>
                    <textarea id="planObservations" class="form-textarea" placeholder="Digite observa√ß√µes importantes sobre o plano de treino..."></textarea>
                </div>
            </div>

            <div class="form-section">
                <h2>üìÖ Tipo de Plano</h2>
                <div class="plan-type-selector" id="planTypeSelector">
                    <div class="plan-type-btn active" onclick="app.selectPlanType(1, 'A', this)">
                        <div style="font-size: 1.2rem; margin-bottom: 5px;">A</div>
                        <div style="font-size: 0.9rem;">1 Dia</div>
                    </div>
                    <div class="plan-type-btn" onclick="app.selectPlanType(2, 'AB', this)">
                        <div style="font-size: 1.2rem; margin-bottom: 5px;">AB</div>
                        <div style="font-size: 0.9rem;">2 Dias</div>
                    </div>
                    <div class="plan-type-btn" onclick="app.selectPlanType(3, 'ABC', this)">
                        <div style="font-size: 1.2rem; margin-bottom: 5px;">ABC</div>
                        <div style="font-size: 0.9rem;">3 Dias</div>
                    </div>
                    <div class="plan-type-btn" onclick="app.selectPlanType(4, 'ABCD', this)">
                        <div style="font-size: 1.2rem; margin-bottom: 5px;">ABCD</div>
                        <div style="font-size: 0.9rem;">4 Dias</div>
                    </div>
                    <div class="plan-type-btn" onclick="app.selectPlanType(5, 'ABCDE', this)">
                        <div style="font-size: 1.2rem; margin-bottom: 5px;">ABCDE</div>
                        <div style="font-size: 0.9rem;">5 Dias</div>
                    </div>
                    <div class="plan-type-btn" onclick="app.selectPlanType(6, 'ABCDEF', this)">
                        <div style="font-size: 1.2rem; margin-bottom: 5px;">ABCDEF</div>
                        <div style="font-size: 0.9rem;">6 Dias</div>
                    </div>
                </div>
            </div>

            <div id="workoutEditor">
                <!-- Workouts will be generated here -->
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="app.savePlan()">
                    üíæ Salvar Plano
                </button>
                <button class="btn btn-outline" onclick="app.showPlanList()">
                    üìã Ver Meus Planos
                </button>
                <button class="btn btn-danger" onclick="app.cancelEdit()" style="display: none;" id="cancelEditBtn">
                    ‚ùå Cancelar Edi√ß√£o
                </button>
            </div>
        </div>

        <!-- Plan List -->
        <div id="planList" class="content-card">
            <h2>üìã Meus Planos de Treino</h2>
            <div id="planListContent">
                <div class="plan-card">
                    <h3>Nenhum plano encontrado</h3>
                    <p>Crie seu primeiro plano de treino clicando em "Novo Plano" ou "Criar com IA"!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for Plan Details -->
    <div id="planModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="planModalTitle">Detalhes do Plano</h2>
                <button class="close-btn" onclick="app.closePlanModal()">&times;</button>
            </div>
            <div id="planModalContent">
                <!-- Plan details will be loaded here -->
            </div>
        </div>
    </div>

<!-- Modal de Exerc√≠cio Completo -->
<div id="exerciseModal" class="modal">
    <div class="modal-content">
        <!-- Loading Overlay -->
        <div class="loading-overlay" id="loadingOverlay">
            <div class="loading-spinner"></div>
        </div>

        <!-- Header -->
        <div class="modal-header">
            <h2 class="modal-title">
                <span>‚úèÔ∏è Editar Exerc√≠cio</span>
            </h2>
            <div class="modal-subtitle" id="modalSubtitle">
                Configure todos os detalhes do exerc√≠cio
            </div>
            <button class="close-btn" onclick="closeExerciseModal()" title="Fechar">&times;</button>
        </div>

        <!-- Body -->
        <div class="modal-body">
            
            <!-- Se√ß√£o: Filtro Contextual -->
            <div class="modal-section contextual-filter-section">
                <h3 class="section-title">
                    <span>üéØ Filtro por Grupo Muscular</span>
                </h3>
                
                <div class="form-group">
                    <label class="form-label" for="exerciseGroupFilter">
                        Selecionar Grupo Muscular
                    </label>
                    <select id="exerciseGroupFilter" class="form-select" onchange="filterExercisesByGroup()">
                        <!-- Op√ß√µes preenchidas dinamicamente -->
                        <option value="contextual">üèãÔ∏è Todos os grupos do treino A</option>
                        <option value="peito">üí• PEITO</option>
                        <option value="triceps">üî• TR√çCEPS</option>
                        <option disabled>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</option>
                        <option value="todos">üìã Ver todos os grupos dispon√≠veis</option>
                    </select>
                    
                    <!-- Status do Filtro -->
                    <div id="exerciseSelectStatus" class="form-hint contextual">
                        <div id="exerciseCount">
                            <div class="contextual-filter-info">
                                <div class="contextual-title">üéØ Filtro contextual ativo</div>
                                <div class="contextual-workout">Treino A: Treino A - Peito e Tr√≠ceps</div>
                                <div class="contextual-groups">Grupos: PEITO, TR√çCEPS</div>
                                <div class="contextual-count">12 exerc√≠cios dispon√≠veis</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Se√ß√£o: Sele√ß√£o de Exerc√≠cio -->
            <div class="modal-section">
                <h3 class="section-title">
                    <span>üèãÔ∏è Exerc√≠cio</span>
                </h3>

                <div class="form-group">
                    <label class="form-label" for="exerciseName">
                        Nome do Exerc√≠cio
                    </label>
                    <select id="exerciseName" class="form-select" onchange="updateExerciseDescription()">
                        <option value="custom">‚úèÔ∏è Exerc√≠cio Personalizado</option>
                        <optgroup label="PEITO üéØ">
                            <option value="Supino Reto com Barra">Supino Reto com Barra (intermedi√°rio)</option>
                            <option value="Supino Inclinado">Supino Inclinado (intermedi√°rio)</option>
                            <option value="Crucifixo com Halteres">Crucifixo com Halteres (iniciante)</option>
                            <option value="Crossover">Crossover (avan√ßado)</option>
                        </optgroup>
                        <optgroup label="TR√çCEPS üéØ">
                            <option value="Tr√≠ceps Testa" selected>Tr√≠ceps Testa (intermedi√°rio)</option>
                            <option value="Tr√≠ceps Pulley">Tr√≠ceps Pulley (iniciante)</option>
                            <option value="Tr√≠ceps Franc√™s">Tr√≠ceps Franc√™s (intermedi√°rio)</option>
                        </optgroup>
                    </select>
                </div>

                <!-- Campo para Exerc√≠cio Personalizado -->
                <div id="customExerciseGroup" class="form-group" style="display: none;">
                    <label class="form-label" for="customExerciseName">
                        Nome do Exerc√≠cio Personalizado
                    </label>
                    <div class="input-with-icon">
                        <span class="input-icon">‚úèÔ∏è</span>
                        <input type="text" id="customExerciseName" class="form-input" 
                               placeholder="Digite o nome do exerc√≠cio personalizado">
                    </div>
                </div>

                <!-- Descri√ß√£o do Exerc√≠cio -->
                <div class="form-group">
                    <label class="form-label" for="exerciseDescription">
                        Descri√ß√£o e Execu√ß√£o
                    </label>
                    <textarea id="exerciseDescription" class="form-textarea" 
                              placeholder="Descreva como executar o exerc√≠cio corretamente...">Cl√°ssico para tr√≠ceps. Flexione apenas antebra√ßos, cotovelos fixos.</textarea>
                </div>
            </div>

            <!-- Se√ß√£o: Especifica√ß√µes do Exerc√≠cio -->
            <div class="modal-section">
                <h3 class="section-title">
                    <span>üìä Especifica√ß√µes</span>
                </h3>

                <div class="specs-grid">
                    <div class="spec-item">
                        <span class="spec-label">S√©ries</span>
                        <span class="spec-value" id="previewSets">3</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Repeti√ß√µes</span>
                        <span class="spec-value" id="previewReps">12-15</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Carga</span>
                        <span class="spec-value" id="previewWeight">30kg</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Descanso</span>
                        <span class="spec-value" id="previewRest">90s</span>
                    </div>
                </div>
            </div>

        </div>

        <!-- Footer -->
        <div class="modal-footer">
            <button class="btn btn-outline" onclick="resetForm()">
                üîÑ Resetar
            </button>
            <button class="btn btn-warning" onclick="previewExercise()">
                üëÅÔ∏è Visualizar
            </button>
            <button class="btn btn-secondary" onclick="closeExerciseModal()">
                ‚ùå Cancelar
            </button>
            <button class="btn btn-primary" onclick="saveExercise()">
                ‚úÖ Salvar Exerc√≠cio
            </button>
        </div>
    </div>
</div>


    <!-- Hidden file input -->
    <input type="file" id="importFile" style="display: none;" accept=".json" onchange="app.importPlan(event)">

    <!-- JavaScript -->
    <script src="js/personal.js">

	</script>
</body>
</html>