<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Sistema de Treinos Personalizados</title>
    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="JS Fit Personal">
    <title>JS Fit App - Criador de Planos de Treino</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iIzc5NDVmZiIvPgo8cGF0aCBkPSJtMTYgOGMtNC40MTggMC04IDMuNTgyLTggOHY4YzAgNC40MTggMy41ODIgOCA4IDhzOC0zLjU4MiA4LTh2LThjMC00LjQxOC0zLjU4Mi04LTgtOHoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPg==">
    <link rel="stylesheet" href="css/stylePersonal.css">
    
 
        
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üèãÔ∏è JS Fit App</h1>
            <p>Criador de Planos de Treino Personalizados</p>
            <div class="developer-info">
                <div class="developer-name">
                    <svg class="developer-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                        <circle cx="12" cy="7" r="4"></circle>
                    </svg>
                    Desenvolvido por Javan Santana
                </div>
                <div class="developer-contact">
                    <svg class="phone-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path>
                    </svg>
                    (15) 99143-7433
                </div>
            </div>

            <div class="main-actions">
                <button class="btn btn-primary" onclick="app.showPlanCreator()">
                    ‚ûï Novo Plano
                </button>
                <button class="btn btn-secondary" onclick="app.showPlanList()">
                    üìã Meus Planos
                </button>
                <button class="btn btn-ai" onclick="app.showAIPlanCreator()">
                    ü§ñ Criar com IA
                </button>
                <label class="btn btn-outline" for="importFile">
                    üìÇ Importar Plano
                </label>
            </div>
        </header>

        <!-- AI Plan Creator -->
        <div id="aiPlanCreator" class="content-card" style="display: none;">
            <div class="ai-form-section">
                <h3>ü§ñ Criador de Plano com IA</h3>
                <p>Preencha as informa√ß√µes b√°sicas e deixe a IA criar um plano personalizado para voc√™!</p>
            </div>

            <div class="form-section">
                <h2>üë§ Dados do Aluno</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Aluno</label>
                        <input type="text" id="aiStudentName" class="form-input" placeholder="Digite o nome completo">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Nascimento</label>
                        <input type="date" id="aiStudentBirthDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF (opcional)</label>
                        <input type="text" id="aiStudentCpf" class="form-input" placeholder="000.000.000-00" maxlength="14">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Altura</label>
                        <input type="text" id="aiStudentHeight" class="form-input" placeholder="1,75m">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Peso</label>
                        <input type="text" id="aiStudentWeight" class="form-input" placeholder="75kg">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>üéØ Configura√ß√µes do Plano</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Objetivo Principal</label>
                        <select id="aiPlanObjective" class="form-select">
                            <option value="Hipertrofia e ganho de massa muscular">Hipertrofia e ganho de massa muscular</option>
                            <option value="Perda de peso e defini√ß√£o">Perda de peso e defini√ß√£o</option>
                            <option value="Condicionamento geral">Condicionamento geral</option>
                            <option value="For√ßa e pot√™ncia">For√ßa e pot√™ncia</option>
                            <option value="Resist√™ncia muscular">Resist√™ncia muscular</option>
                            <option value="Reabilita√ß√£o">Reabilita√ß√£o</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">N√≠vel de Experi√™ncia</label>
                        <select id="aiExperienceLevel" class="form-select">
                            <option value="iniciante">Iniciante (0-6 meses)</option>
                            <option value="intermediario">Intermedi√°rio (6 meses - 2 anos)</option>
                            <option value="avancado">Avan√ßado (2+ anos)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Dias Dispon√≠veis por Semana</label>
                        <select id="aiAvailableDays" class="form-select">
                            <option value="2">2 dias</option>
                            <option value="3" selected>3 dias</option>
                            <option value="4">4 dias</option>
                            <option value="5">5 dias</option>
                            <option value="6">6 dias</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Tempo por Sess√£o (minutos)</label>
                        <select id="aiSessionTime" class="form-select">
                            <option value="45">45 minutos</option>
                            <option value="60" selected>60 minutos</option>
                            <option value="75">75 minutos</option>
                            <option value="90">90 minutos</option>
                        </select>
                    </div>
                </div>

            </div>
            <div class="form-section">
                <h2>‚öôÔ∏è Configura√ß√£o de Grupos Musculares</h2>
                <div class="form-group">
                    <label class="form-label">
                        Personalizar quais m√∫sculos trabalhar em cada dia de treino
                    </label>
                    <div class="muscle-config-toggle">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer;">
                            <input type="checkbox" id="aiUseCustomMuscleConfig" 
                                   onchange="app.toggleAIMuscleConfig()">
                            <span>üéØ Ativar configura√ß√£o personalizada de m√∫sculos</span>
                        </label>
                    </div>
                </div>

                <div id="aiMuscleConfigSection" class="muscle-config-section" style="display: none;">
                    <div class="config-header">
                        <h3>üèãÔ∏è Configure seus Treinos</h3>
                        <p>Selecione quais grupos musculares trabalhar em cada dia:</p>
                    </div>
                    
                    <div id="aiWorkoutConfigGrid" class="workout-config-grid">
                        <!-- Ser√° preenchido dinamicamente pelo JavaScript -->
                    </div>
                    
                    <div class="config-actions">
                        <button type="button" class="btn btn-secondary btn-small" 
                                onclick="app.loadAIPresetConfig()">
                            üìã Usar Configura√ß√£o Padr√£o
                        </button>
                        <button type="button" class="btn btn-outline btn-small" 
                                onclick="app.resetAIMuscleConfig()">
                            üîÑ Limpar Tudo
                        </button>
                    </div>
                </div>
            </div>


            <div class="form-section">
                <h2>üèãÔ∏è Prefer√™ncias de Treino</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Equipamentos Dispon√≠veis</label>
                        <select id="aiEquipment" class="form-select">
                            <option value="academia_completa">Academia Completa</option>
                            <option value="home_gym">Home Gym (Halteres + Barra)</option>
                            <option value="peso_corporal">Apenas Peso Corporal</option>
                            <option value="funcional">Equipamentos Funcionais</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Foco Muscular Preferido</label>
                        <select id="aiMusclePreference" class="form-select">
                            <option value="equilibrado">Desenvolvimento Equilibrado</option>
                            <option value="superior">Foco Membros Superiores</option>
                            <option value="inferior">Foco Membros Inferiores</option>
                            <option value="core">Foco Core e Funcional</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Limita√ß√µes ou Les√µes</label>
                    <textarea id="aiLimitations" class="form-textarea" placeholder="Descreva qualquer limita√ß√£o f√≠sica, les√£o pr√©via ou exerc√≠cio que deve ser evitado..."></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Observa√ß√µes Especiais</label>
                    <textarea id="aiSpecialNotes" class="form-textarea" placeholder="Exerc√≠cios preferidos, hor√°rios de treino, metas espec√≠ficas, etc..."></textarea>
                </div>
            </div>

            <div class="generating-indicator" id="generatingIndicator">
                <div class="spinner"></div>
                <h3>ü§ñ IA Criando Seu Plano...</h3>
                <p>Analisando suas informa√ß√µes e gerando o plano personalizado. Isso pode levar alguns segundos.</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%;"></div>
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-ai" onclick="app.generateAIPlan()">
                    ü§ñ Gerar Plano com IA
                </button>
                <button class="btn btn-outline" onclick="app.showPlanList()">
                    üìã Ver Meus Planos
                </button>
            </div>
        </div>

        <!-- Manual Plan Creator -->
        <div id="planCreator" class="content-card" style="display: none;">
            <input type="hidden" id="currentPlanId" value="">
            <div class="form-section">
                <h2>üë§ Dados do Aluno</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Aluno</label>
                        <input type="text" id="studentName" class="form-input" placeholder="Digite o nome completo">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Nascimento</label>
                        <input type="date" id="studentBirthDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">CPF (opcional)</label>
                        <input type="text" id="studentCpf" class="form-input" placeholder="000.000.000-00" maxlength="14">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Altura</label>
                        <input type="text" id="studentHeight" class="form-input" placeholder="1,75m">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Peso</label>
                        <input type="text" id="studentWeight" class="form-input" placeholder="75kg">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h2>üéØ Configura√ß√µes do Plano</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label class="form-label">Nome do Plano</label>
                        <input type="text" id="planName" class="form-input" placeholder="Plano Hipertrofia 2024">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Objetivo</label>
                        <select id="planObjective" class="form-select">
                            <option value="Hipertrofia e ganho de massa muscular">Hipertrofia e ganho de massa muscular</option>
                            <option value="Condicionamento geral">Condicionamento geral</option>
                            <option value="Perda de peso">Perda de peso</option>
                            <option value="Defini√ß√£o muscular">Defini√ß√£o muscular</option>
                            <option value="For√ßa">Ganho de for√ßa</option>
                            <option value="Resist√™ncia">Resist√™ncia</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de In√≠cio</label>
                        <input type="date" id="planStartDate" class="form-input">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Data de Fim</label>
                        <input type="date" id="planEndDate" class="form-input">
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Observa√ß√µes Gerais</label>
                    <textarea id="planObservations" class="form-textarea" placeholder="Digite observa√ß√µes importantes sobre o plano de treino..."></textarea>
                </div>
            </div>

<!-- Se√ß√£o de Tipo de Plano Atualizada -->
<!-- Se√ß√£o de Tipo de Plano Atualizada -->
<div class="form-section">
    <h2>üìÖ Tipo de Plano</h2>
    <p class="form-hint">
        <span>Selecione quantos dias de treino deseja e configure os grupos musculares para cada treino</span>
    </p>
    
    <div class="plan-type-selector" id="planTypeSelector">
        <div class="plan-type-btn active" onclick="app.selectPlanType(1, 'A', this)">
            <div style="font-size: 1.2rem; margin-bottom: 5px;">A</div>
            <div style="font-size: 0.9rem;">1 Dia</div>
            <div class="plan-configured-indicator" style="display: none;"></div>
        </div>
        <div class="plan-type-btn" onclick="app.selectPlanType(2, 'AB', this)">
            <div style="font-size: 1.2rem; margin-bottom: 5px;">AB</div>
            <div style="font-size: 0.9rem;">2 Dias</div>
            <div class="plan-configured-indicator" style="display: none;"></div>
        </div>
        <div class="plan-type-btn" onclick="app.selectPlanType(3, 'ABC', this)">
            <div style="font-size: 1.2rem; margin-bottom: 5px;">ABC</div>
            <div style="font-size: 0.9rem;">3 Dias</div>
            <div class="plan-configured-indicator" style="display: none;"></div>
        </div>
        <div class="plan-type-btn" onclick="app.selectPlanType(4, 'ABCD', this)">
            <div style="font-size: 1.2rem; margin-bottom: 5px;">ABCD</div>
            <div style="font-size: 0.9rem;">4 Dias</div>
            <div class="plan-configured-indicator" style="display: none;"></div>
        </div>
        <div class="plan-type-btn" onclick="app.selectPlanType(5, 'ABCDE', this)">
            <div style="font-size: 1.2rem; margin-bottom: 5px;">ABCDE</div>
            <div style="font-size: 0.9rem;">5 Dias</div>
            <div class="plan-configured-indicator" style="display: none;"></div>
        </div>
        <div class="plan-type-btn" onclick="app.selectPlanType(6, 'ABCDEF', this)">
            <div style="font-size: 1.2rem; margin-bottom: 5px;">ABCDEF</div>
            <div style="font-size: 0.9rem;">6 Dias</div>
            <div class="plan-configured-indicator" style="display: none;"></div>
        </div>
    </div>
    
    <!-- NOVA SE√á√ÉO: Configura√ß√£o Inline Expans√≠vel -->
    <div id="inlineQuickConfig" class="inline-quick-config" style="display: none;">
        <div class="inline-config-header">
            <h3>‚öôÔ∏è Configurar Grupos Musculares</h3>
            <button class="inline-config-close" onclick="app.closeInlineQuickConfig()">‚úï</button>
        </div>
        
        <div class="alert alert-info">
            <strong>üí° Configure rapidamente:</strong> Selecione os grupos musculares que cada treino deve trabalhar.
        </div>
        
        <div id="inlineQuickConfigContent" class="inline-config-content">
            <!-- Conte√∫do ser√° gerado dinamicamente -->
        </div>
        
        <div class="inline-config-actions">
            <button class="btn btn-primary" onclick="app.saveInlineQuickConfig()">
                ‚úÖ Aplicar Configura√ß√£o
            </button>
            <button class="btn btn-secondary" onclick="app.loadInlinePresetConfig()">
                üìã Usar Padr√£o
            </button>
            <button class="btn btn-outline" onclick="app.closeInlineQuickConfig()">
                ‚ùå Cancelar
            </button>
        </div>
    </div>
    
    <!-- Status da configura√ß√£o -->
    <div class="plan-config-actions" style="text-align: center; margin-top: 15px;">
        <button class="btn btn-secondary btn-small" onclick="app.showInlineQuickConfig()" style="display: none;" id="advancedConfigBtn">
            ‚öôÔ∏è Configura√ß√£o Avan√ßada
        </button>
        <div class="form-hint" id="planConfigStatus">
            <span>üí° Clique em um tipo de plano para configurar os grupos musculares</span>
        </div>
    </div>
</div>

            <div id="workoutEditor">
                <!-- Workouts will be generated here -->
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button class="btn btn-primary" onclick="app.savePlan()">
                    üíæ Salvar Plano
                </button>
                <button class="btn btn-outline" onclick="app.showPlanList()">
                    üìã Ver Meus Planos
                </button>
                <button class="btn btn-danger" onclick="app.cancelEdit()" style="display: none;" id="cancelEditBtn">
                    ‚ùå Cancelar Edi√ß√£o
                </button>
            </div>
        </div>

        <!-- Plan List -->
        <div id="planList" class="content-card">
            <h2>üìã Meus Planos de Treino</h2>
            <div id="planListContent">
                <div class="plan-card">
                    <h3>Nenhum plano encontrado</h3>
                    <p>Crie seu primeiro plano de treino clicando em "Novo Plano" ou "Criar com IA"!</p>
                </div>
            </div>
        </div>
        <div id="planDetails" class="content-card" style="display: none;">
            <div class="plan-details-header">
                <button class="btn btn-outline btn-small" onclick="app.backToPlanList()">
                    ‚Üê Voltar
                </button>
                <h2 id="planDetailsTitle">Detalhes do Plano</h2>
            </div>
            <div id="planDetailsContent">
                <!-- Plan details will be loaded here -->
            </div>
        </div>
        
    </div>

    <!-- ADICIONAR ESTE HTML NA SE√á√ÉO DE CONTROLES DA SUA INTERFACE -->

<!-- Controles de Debug e Sincroniza√ß√£o -->
<div class="debug-controls" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <div class="debug-panel" id="debugPanel" style="display: none;">
        <div class="debug-header">
            <h4>Controles de Debug</h4>
            <button onclick="app.toggleDebugPanel()" class="close-debug">&times;</button>
        </div>
        <div class="debug-actions">
            <button class="btn btn-sm btn-outline" onclick="app.debugDataState()">
                Estado dos Dados
            </button>
            <button class="btn btn-sm btn-primary" onclick="app.reloadData()">
                Recarregar Dados
            </button>
            <button class="btn btn-sm btn-success" onclick="app.forceSyncAllPlans()">
                For√ßar Sync Firebase
            </button>
            <button class="btn btn-sm btn-warning" onclick="app.createEmergencyBackup()">
                Backup Emerg√™ncia
            </button>
            <button class="btn btn-sm btn-info" onclick="app.verifyAndRestorePlans()">
                Restaurar Planos
            </button>
            <button class="btn btn-sm btn-secondary" onclick="app.syncAllPendingOperations()">
                Sync Firebase
            </button>
            <div class="debug-info">
                <small>
                    Total: <span id="debugPlanCount">0</span> | 
                    Firebase: <span id="debugFirebaseCount">0</span> | 
                    Pendentes: <span id="debugPendingCount">0</span>
                </small>
                <div class="sync-status-bar">
                    <div class="sync-progress" id="syncProgressBar"></div>
                </div>
                <small id="syncStatus" class="sync-status"></small>
            </div>
        </div>
    </div>
    
    <!-- Bot√£o para mostrar/ocultar painel -->
    <button class="btn btn-debug" onclick="app.toggleDebugPanel()" title="Debug Controls">
        üîß
    </button>
</div>

<!-- CSS para os controles de debug -->
<style>
.debug-controls {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

.btn-debug {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: #6c757d;
    color: white;
    border: none;
    font-size: 18px;
    cursor: pointer;
    box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    transition: all 0.3s ease;
}

.btn-debug:hover {
    background: #5a6268;
    transform: scale(1.1);
}

.debug-panel {
    position: absolute;
    bottom: 60px;
    right: 0;
    width: 280px;
    background: white;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    max-height: 400px;
    overflow-y: auto;
}

.debug-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 16px;
    border-bottom: 1px solid #dee2e6;
    background: #f8f9fa;
    border-radius: 8px 8px 0 0;
}

.debug-header h4 {
    margin: 0;
    font-size: 14px;
    font-weight: 600;
    color: #495057;
}

.close-debug {
    background: none;
    border: none;
    font-size: 20px;
    cursor: pointer;
    color: #6c757d;
    padding: 0;
    width: 20px;
    height: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.debug-actions {
    padding: 16px;
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.btn-sm {
    padding: 6px 12px;
    font-size: 12px;
    border-radius: 4px;
    cursor: pointer;
    border: 1px solid transparent;
    transition: all 0.2s ease;
}

.btn-outline {
    background: white;
    border-color: #6c757d;
    color: #6c757d;
}

.btn-primary {
    background: #007bff;
    color: white;
}

.btn-success {
    background: #28a745;
    color: white;
}

.btn-warning {
    background: #ffc107;
    color: #212529;
}

.btn-info {
    background: #17a2b8;
    color: white;
}

.btn-sm:hover {
    opacity: 0.9;
    transform: translateY(-1px);
}

.debug-info {
    margin-top: 8px;
    padding: 8px;
    background: #f8f9fa;
    border-radius: 4px;
    text-align: center;
}

.debug-info small {
    color: #6c757d;
    font-size: 10px;
}

/* Responsividade */
@media (max-width: 768px) {
    .debug-panel {
        width: 250px;
        bottom: 70px;
        right: -200px;
    }
    
    .debug-panel.active {
        right: 0;
    }
}
</style>


   <!-- Plan Details View -->




<!-- Hidden file input -->
<input type="file" id="importFile" style="display: none;" accept=".json" onchange="app.importPlan(event)">

<!-- JavaScript - ORDEM CORRETA -->
<script src="js/shared/jsfitcore.js"></script>
<script src="js/personal.js"></script>



</body>
</html>